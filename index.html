<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="cache-control" content="max-age=86400"/>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Main Page</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
            <tbody>
            <tr style="height: 56px;">
                <td id="projectlogo"><img alt="Logo" style="height: 56px;" src="logo.png"/></td>
                <td style="padding-left: 0.5em;">
                    <div id="projectbrief">C++17 Actor Framework</div>
                </td>
                <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
            </tr>
            </tbody>
        </table>
    </div>
    <!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Disclaimer"></a>
Disclaimer</h1>
<p>Welcome to the official <b>qb</b> documentation. Here you will find a detailed view of all the <b>qb</b> classes, functions and modules. <br />
</p>
<p><b>qb</b> provides technology solutions and services dedicated to high performance real-time complex processing, enabling low and predictable latency, perfect scalability and high throughput. It's a complete development framework for multicore processing that has been specifically designed for low latency and low footprint on multicore processors.</p>
<p><b>qb</b> is a thin-layer multicore-optimized runtime that enable users to build their own business-driven, jitter-free, low-latency, and elastic Reactive software based on the Actor model. </p><h4>Build Status</h4>
<table class="doxtable">
<tr>
<th>* </th><th>Linux </th><th>Windows </th><th>Documentation  </th></tr>
<tr>
<td>master </td><td><div class="image">
<img src="http://server.isndev.com:61090/buildStatus/icon?job=Cube-master"/>
</div>
 </td><td><div class="image">
<img src="http://server.isndev.com:61090/buildStatus/icon?job=Cube-master"/>
</div>
 </td><td><div class="image">
<img src="http://server.isndev.com:61090/buildStatus/icon?job=Cube-master&subject=doc"/>
</div>
 </td></tr>
<tr>
<td>develop </td><td><div class="image">
<img src="http://server.isndev.com:61090/buildStatus/icon?job=Cube-develop"/>
</div>
 </td><td><div class="image">
<img src="http://server.isndev.com:61090/buildStatus/icon?job=Cube-develop"/>
</div>
 </td><td><div class="image">
<img src="http://server.isndev.com:61090/buildStatus/icon?job=Cube-develop&subject=doc"/>
</div>
 </td></tr>
</table>
<h4>Requirements</h4>
<ul>
<li>C++17 compiler, (gcc7, clang4, msvc19.11)</li>
<li>(Recommended) cmake</li>
<li>(Recommended) Disable the HyperThreading to optimize your Physical Cores Cache <h4>Pros</h4>
</li>
</ul>
<ul>
<li>Opensource</li>
<li>Cross-platform (Linux|Windows)</li>
<li>Easy to use</li>
<li>CPU cache friendly</li>
<li>Very fast and low-latency</li>
<li>Reusable code from a project to another</li>
<li>Forget everything about multi-threading concurrency issues <h4>Coins</h4>
</li>
</ul>
<ul>
<li>Strong CPU usage</li>
<li>...</li>
</ul>
<h2>License </h2>
<p>Apache Lisence Version 2.0</p>
<p><b>isndev</b> Free Software, Hell Yeah!</p>
<p>More tutorials will arrive soon.</p>
<h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>Our CPUs are not getting any faster. What’s happening is that we now have multiple cores on them. If we want to take advantage of all this hardware we have available now, we need a way to run our code concurrently. Decades of untraceable bugs and developers’ depression have shown that threads are not the way to go.</p>
<h4>Definition</h4>
<p>The Actor model is a concurrent model of computation that treats "actors" as the universal primitives of concurrent computation.</p><ul>
<li>The Actor sends event messages to be received by another Actor, which is then treated by an Event handler.</li>
<li>The Event handler can execute a local function, create more actors, and send events to other Actors. In <b>qb</b> programming semantics, Actors shall be mono-threaded and non-blocking.</li>
<li>The Event communication between Actors is done with an unidirectional communication channel called a Pipe. Hence, the Actor programming model is completely asynchronous and event-driven.</li>
</ul>
<div class="image">
<img src="./BasicActorModel.png" width="500px"/>
</div>
<h4>qb + Actor Model</h4>
<p>A program developed with <b>qb</b> is consisting of multiple Actors handling one or multiple Events, attached to PhysicalCores linked together with several Pipes. Once designed, the programming is broken down into coding mono-threaded and sequential Event handlers. Hence, the Actor model which is scalable and parallel by nature.</p>
<p><b>qb</b> runtime will handle all the rest and bridge the gap between parallel programming and hardware multicore complexity.</p>
<h1><a class="anchor" id="GetStarted"></a>
Get Started !</h1>
<ul>
<li>First, you'll have to create the project directory and cd into it <div class="fragment"><div class="line">$&gt; mkdir pingpong &amp;&amp; cd pingpong</div></div><!-- fragment --></li>
<li>Then clone the <b>qb</b> framework by doing: <div class="fragment"><div class="line">$&gt; git clone git@github.com:isndev/qb.git</div></div><!-- fragment --></li>
<li>Next, create CMakeLists.txt file and paste the content below <div class="fragment"><div class="line"># CMakeLists.txt file</div><div class="line">cmake_minimum_required(VERSION 3.10)</div><div class="line">project(pingpong)</div><div class="line"></div><div class="line"># **qb** minimum requirements</div><div class="line">set(CMAKE_CXX_STANDARD 17)</div><div class="line">set(CMAKE_CXX_STANDARD_REQUIRED ON)</div><div class="line">set(QB_PATH &quot;${CMAKE_CURRENT_SOURCE_DIR}/qb&quot;)</div><div class="line"></div><div class="line"># Add qb framework</div><div class="line">add_subdirectory(${QB_PATH})</div><div class="line"></div><div class="line"># Define your project source</div><div class="line">set(SOURCE main.cpp)</div><div class="line"></div><div class="line">add_executable(pingpong ${SOURCE})</div><div class="line"># Link target with qb-core library</div><div class="line">target_link_libraries(pingpong qb-core)</div></div><!-- fragment --></li>
<li>Create MyEvent.h file and define the event custom data <div class="fragment"><div class="line"><span class="comment">// MyEvent.h</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;qb/event.h&gt;</span></div><div class="line"><span class="preprocessor">#ifndef MYEVENT_H_</span></div><div class="line"><span class="preprocessor"># define MYEVENT_H_</span></div><div class="line"><span class="comment">// Event example</span></div><div class="line"><span class="keyword">struct </span>MyEvent</div><div class="line"> : <span class="keyword">public</span> <a class="code" href="classqb_1_1_event.html">qb::Event</a> <span class="comment">// /!\ should inherit from qb event</span></div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span> data; <span class="comment">// trivial data</span></div><div class="line">    std::vector&lt;int&gt; container; <span class="comment">// dynamic data</span></div><div class="line">    <span class="comment">// /!\ an event must never store an address of it own data</span></div><div class="line">    <span class="comment">// /!\ ex : int *ptr = &amp;data;</span></div><div class="line">    <span class="comment">// /!\ avoid using std::string, instead use :</span></div><div class="line">    <span class="comment">// /!\ - fixed cstring</span></div><div class="line">    <span class="comment">// /!\ - pointer of std::string</span></div><div class="line">    <span class="comment">// /!\ - or compile with old ABI &#39;-D_GLIBCXX_USE_CXX11_ABI=0&#39;</span></div><div class="line">};</div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --></li>
<li>Create PinPongActor.h file and paste the code below <div class="fragment"><div class="line"><span class="comment">// PingPongActor.h file</span></div><div class="line"><span class="preprocessor">#include &lt;qb/actor.h&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;MyEvent.h&quot;</span></div><div class="line"><span class="preprocessor">#ifndef PINGPONGACTOR_H_</span></div><div class="line"><span class="preprocessor"># define PINGPONGACTOR_H_</span></div><div class="line"></div><div class="line"><span class="keyword">class </span>PingPongActor</div><div class="line">        : <span class="keyword">public</span> <a class="code" href="classqb_1_1_actor.html">qb::Actor</a> <span class="comment">// /!\ should inherit from qb actor</span></div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <a class="code" href="classqb_1_1_actor_id.html">qb::ActorId</a> _id_pong; <span class="comment">// Pong ActorId</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    PingPongActor(<span class="keyword">const</span> <a class="code" href="classqb_1_1_actor_id.html">qb::ActorId</a> id_pong = {})</div><div class="line">      : _id_pong(id_pong) {}</div><div class="line"></div><div class="line">    <span class="comment">// /!\ never call any qb::Actor functions in constructor</span></div><div class="line">    <span class="comment">// /!\ use onInit function</span></div><div class="line">    <span class="comment">// /!\ the engine will call this function before adding PingPongActor</span></div><div class="line">    <span class="keywordtype">bool</span> <a class="code" href="classqb_1_1_actor.html#a210e6c552ab2d3742688413c81aceb74">onInit</a>() override final {</div><div class="line">        registerEvent&lt;MyEvent&gt;(*this);            <span class="comment">// will listen MyEvent</span></div><div class="line">        <span class="keywordflow">if</span> (_id_pong) {                           <span class="comment">// is Ping Actor</span></div><div class="line">           <span class="keyword">auto</span> &amp;<span class="keyword">event</span> = push&lt;MyEvent&gt;(_id_pong); <span class="comment">// push MyEvent to Pong Actor and keep a reference to the event</span></div><div class="line">           <span class="keyword">event</span>.data = 1337;                     <span class="comment">// set trivial data</span></div><div class="line">           <span class="keyword">event</span>.container.push_back(7331);       <span class="comment">// set dynamic data</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;                              <span class="comment">// init ok</span></div><div class="line">    }</div><div class="line">    <span class="comment">// will call this function when PingPongActor receives MyEvent</span></div><div class="line">    <span class="keywordtype">void</span> on(MyEvent &amp;event) {</div><div class="line">        <span class="comment">// print some data</span></div><div class="line">        <a class="code" href="classqb_1_1io_1_1cout.html">qb::io::cout</a>() &lt;&lt; <span class="stringliteral">&quot;Actor id(&quot;</span> &lt;&lt; <a class="code" href="classqb_1_1_actor.html#a7d15d4c64ccd1e111135d1668cef7a72">id</a>() &lt;&lt; <span class="stringliteral">&quot;) received MyEvent&quot;</span> &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">if</span> (!_id_pong)   <span class="comment">// is Pong Actor</span></div><div class="line">           <a class="code" href="classqb_1_1_actor.html#ae662129a3b07c96f64a0dbf9a10a2657">reply</a>(event); <span class="comment">// reply the event to the Ping Actor</span></div><div class="line">        <a class="code" href="classqb_1_1_actor.html#a859304ed2eeaecffc42b5d26abdbf70d">kill</a>();          <span class="comment">// Ping or Pong will die after receiving MyEvent</span></div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --></li>
<li>Then finally create the main.cpp <div class="fragment"><div class="line"><span class="comment">// main.cpp file</span></div><div class="line"><span class="preprocessor">#include &lt;qb/main.h&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;PingPongActor.h&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div><div class="line">    <span class="comment">// (optional) initialize the qb logger</span></div><div class="line">    qb::io::log::init(argv[0]); <span class="comment">// filename</span></div><div class="line"></div><div class="line">    <span class="comment">// configure the Core</span></div><div class="line">    <span class="comment">// Note : I will use only the core 0 and 1</span></div><div class="line">    <a class="code" href="classqb_1_1_main.html">qb::Main</a> main({0, 1});</div><div class="line"></div><div class="line">    <span class="comment">// Build Pong Actor to core 0 and retrieve its unique identifier</span></div><div class="line">    <span class="keyword">auto</span> id_pong = main.<a class="code" href="classqb_1_1_main.html#a356bae48b1b99c7ce26e427bc1e107fd">addActor</a>&lt;PingPongActor&gt;(0); <span class="comment">// default constructed</span></div><div class="line">    <span class="comment">// Build Ping Actor to core 1 with Pong id as parameter</span></div><div class="line">    main.addActor&lt;PingPongActor&gt;(1, id_pong); <span class="comment">// constructed with parameters</span></div><div class="line"></div><div class="line">    main.start();  <span class="comment">// start the engine asynchronously</span></div><div class="line">    main.join();   <span class="comment">// wait for the running engine</span></div><div class="line">    <span class="comment">// if all my actors had been destroyed then it will release the wait</span></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> Let's compile the project ! <div class="fragment"><div class="line">$&gt; cmake -DCMAKE_BUILD_TYPE=Release -B[Build Directory Path] -H[CMakeList.txt Path]</div><div class="line">$&gt; cd [Build Directory Path] &amp;&amp; make</div></div><!-- fragment --> Run it <div class="fragment"><div class="line">$&gt; ./pingpong</div></div><!-- fragment --> it should print <div class="fragment"><div class="line">Actor id(XXXXXX) received MyEvent</div><div class="line">Actor id(XXXXXX) received MyEvent</div></div><!-- fragment --> Done !</li>
</ul>
<p>You want to do more, refer to the wiki </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>